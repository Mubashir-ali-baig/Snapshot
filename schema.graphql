type Pool @entity {
  id: ID!
  token0: Token!
  token1: Token!
}

type Token @entity {
  id: ID!
  name: String!
  symbol: String!
  decimals: BigInt!
}

type Snapshot @entity {
  id: ID!
  amount0: BigInt!
  amount1: BigInt!
}

type User @entity {
  id: ID!
  pool: String!
  tokenId: BigInt!
  userId: String!
  pilotReserve: BigDecimal!
  otherToken: BigDecimal!
  liquidity: BigInt!
  snapshots: [UserReserveSnapshot!]!
  lowerTick: BigInt!
  upperTick: BigInt!
  updateTimestamp: BigInt!
  eligible:Boolean
}

type UserList @entity {
  id: ID!
  list: [String!]!
  lastSnapTimestamp: BigInt!
}

type UserReserveSnapshot @entity {
  id: ID!
  totalPilot: BigDecimal!
  pilotPercentage: BigDecimal!
  timestamp: BigInt!
}

type RangeStatus @entity{
  id:ID!
  outOfRange: Boolean!
}

type Position @entity {
  # Positions created through NonfungiblePositionManager
  # NFT token id
  id: ID!
  # owner of the NFT
  owner: Bytes!
  # pool position is within
  pool: Pool!

  tokenID: BigInt!

  # allow indexing by tokens
  token0: Token!
  # allow indexing by tokens
  token1: Token!
  # lower tick of the position
  tickLower: BigInt!
  # upper tick of the position
  tickUpper: BigInt!
  # total position liquidity
  liquidity: BigInt!
  # amount of token 0 ever deposited to position
  depositedToken0: BigDecimal!
  # amount of token 1 ever deposited to position
  depositedToken1: BigDecimal!
  # amount of token 0 ever withdrawn from position (without fees)
  withdrawnToken0: BigDecimal!
  # amount of token 1 ever withdrawn from position (without fees)
  withdrawnToken1: BigDecimal!
  # all time collected token0 (withdrawnToken0 + collectedFeesToken0)
  collectedToken0: BigDecimal!
  # all time collected token1 (withdrawnToken1 + collectedFeesToken1)
  collectedToken1: BigDecimal!
  # all time collected fees in token0
  collectedFeesToken0: BigDecimal!
  # all time collected fees in token1
  collectedFeesToken1: BigDecimal!
  # tx in which the position was initialized
  # vars needed for fee computation
  feeGrowthInside0LastX128: BigInt!
  feeGrowthInside1LastX128: BigInt!
}
